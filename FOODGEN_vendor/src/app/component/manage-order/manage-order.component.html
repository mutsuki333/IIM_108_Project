<mat-toolbar class="nav-header">
  <button mat-icon-button [routerLink]="['/userpage']">
    <mat-icon>keyboard_arrow_left</mat-icon>
  </button>

  <span>訂單管理</span>
</mat-toolbar>

<mat-tab-group mat-align-tabs="center"  class="managetabs" dynamicHeight>
  <mat-tab label="訂單管理">
    <div *ngFor="let order of orders">
    <div class="goods-box mat-elevation-z4" *ngIf="order.status=='processing'">
      <mat-grid-list cols="3" rowHeight="150px">
        <mat-grid-tile rowspan="1" colspan="2">
          <div class="goods-info">
            <h4 style="margin-top:0px;margin-bottom:8px;">訂單編號 : {{order.order.substr(20,23)}}</h4>
            <h4 style="margin-top:8px;margin-bottom:8px;">顧客號碼: {{order.customer}}</h4>
            <span>金額: ${{order.item.item.base_price}}</span>
            <h4 style="margin-top:8px;margin-bottom:8px;">預約時間: {{order.time}}</h4>
          </div>
        </mat-grid-tile>
        <mat-grid-tile>
          <div>
            <!-- <button mat-flat-button style="width:100%;background-color:#F8CF77;color:#725F58;margin-top:8px;margin-bottom:8px;" (click)="orderManagement.open()">訂單資訊</button> -->
            <span class="toolbar-seprator"></span>
            <button mat-button style="width:100%;background-color:#F8CF77;color:#725F58;margin-top:8px;margin-bottom:8px;" (click)="accomplish(order.order,order.index)">完成訂單</button>
            <span class="toolbar-seprator"></span>
            <button mat-button color="warn" style="width:100%;margin-top:8px;margin-bottom:8px;" (click)="cancel(order.order,order.index)">取消訂單</button>
          </div>
        </mat-grid-tile>
      </mat-grid-list>
    </div></div>
  </mat-tab>
  <mat-tab label="歷史紀錄">
    <div *ngFor="let order of orders">
    <div class="goods-box mat-elevation-z4" *ngIf="order.status!='processing'">
      <mat-grid-list cols="3" rowHeight="150px">
        <mat-grid-tile rowspan="1" colspan="2">
          <div class="goods-info">
            <h4 style="margin-top:0px;margin-bottom:8px;">訂單編號 : {{order.order.substr(20,23)}}</h4>
            <h4 style="margin-top:8px;margin-bottom:8px;">顧客號碼: {{order.customer}}</h4>
            <span>金額: ${{order.item.item.base_price}}</span>
            <h4 style="margin-top:8px;margin-bottom:8px;">預約時間: {{order.time}}</h4>
          </div>
        </mat-grid-tile>
        <mat-grid-tile>
          <mat-chip-list>
            <mat-chip *ngIf="order.status=='accomplished'">已完成</mat-chip>
            <mat-chip *ngIf="order.status=='canceling'">取消中</mat-chip>
            <mat-chip *ngIf="order.status=='canceled'">已取消</mat-chip>
          </mat-chip-list>
          <!-- <div>
            <button mat-flat-button style="width:100%;background-color:#F8CF77;color:#725F58;margin-top:8px;margin-bottom:8px;">訂單資訊</button>
            <span class="toolbar-seprator"></span>
            <button mat-button style="width:100%;background-color:#F8CF77;color:#725F58;margin-top:8px;margin-bottom:8px;" (click)="accomplish()">完成訂單</button>
            <span class="toolbar-seprator"></span>
            <button mat-button color="warn" style="width:100%;margin-top:8px;margin-bottom:8px;" (click)="cancel()">取消訂單</button>
          </div> -->
        </mat-grid-tile>
      </mat-grid-list>
    </div></div>
  </mat-tab>
</mat-tab-group>


<mat-sidenav-container class="nav-container" hasBackdrop="true">
  <mat-sidenav #orderManagement mode="over" fixedInViewport="true" position="end" class="nav-searchnav">
    <div class="nav-header-container">
    <mat-toolbar class="nav-header" color="primary">
      <button mat-icon-button (click)="orderManagement.close()">
        <mat-icon>keyboard_arrow_left</mat-icon>
      </button>
      <span>訂單資訊</span>

      <span class="toolbar-seprator"></span>

    </mat-toolbar>
    </div>

    <div class="form-box">
      <mat-list>
        <mat-list-item>訂單編號: 001</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>顧客電話: 0911111111</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>金額: $100</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>預約時間: 09:00</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>品項:</mat-list-item>
      </mat-list>
      <div class="goods-box mat-elevation-z4">
        <mat-grid-list cols="2" rowHeight="150px">
          <mat-grid-tile>
            <img class="goods-image" src="https://i.imgur.com/HVPrChy.jpg">
          </mat-grid-tile>
          <mat-grid-tile rowspan="1">
            <div class="goods-info">
              <h3 style="margin-top:0px;margin-bottom:15px">蔥油餅</h3>
              <mat-chip-list>
                <mat-chip>加蛋</mat-chip>
                <mat-chip>加大</mat-chip>
                <mat-chip>不要胡椒</mat-chip>
              </mat-chip-list>
              <h4 style="margin-top:15px;margin-bottom:15px">共1份, $33</h4>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
      <div class="goods-box mat-elevation-z4">
        <mat-grid-list cols="2" rowHeight="150px">
          <mat-grid-tile>
            <img class="goods-image" src="https://i.imgur.com/HVPrChy.jpg">
          </mat-grid-tile>
          <mat-grid-tile rowspan="1">
            <div class="goods-info">
              <h3 style="margin-top:0px;margin-bottom:15px">蔥油餅</h3>
              <mat-chip-list>
                <mat-chip>加蛋</mat-chip>
                <mat-chip>加大</mat-chip>
                <mat-chip>要胡椒</mat-chip>
              </mat-chip-list>
              <h4 style="margin-top:15px;margin-bottom:15px">共1份, $33</h4>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
      <div class="goods-box mat-elevation-z4">
        <mat-grid-list cols="2" rowHeight="150px">
          <mat-grid-tile>
            <img class="goods-image" src="https://i.imgur.com/HVPrChy.jpg">
          </mat-grid-tile>
          <mat-grid-tile rowspan="1">
            <div class="goods-info">
              <h3 style="margin-top:0px;margin-bottom:15px">蔥油餅</h3>
              <mat-chip-list>
                <mat-chip>不加蛋</mat-chip>
                <mat-chip>加大</mat-chip>
                <mat-chip>要胡椒</mat-chip>
              </mat-chip-list>
              <h4 style="margin-top:15px;margin-bottom:15px">共1份, $33</h4>

              <h4>共1份</h4>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>



    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>

</mat-sidenav-container>

<mat-sidenav-container class="nav-container" hasBackdrop="true">
  <mat-sidenav #orderHistory mode="over" fixedInViewport="true" position="end" class="nav-searchnav">
    <div class="nav-header-container">
    <mat-toolbar class="nav-header" color="primary">
      <button mat-icon-button (click)="orderHistory.close()">
        <mat-icon>keyboard_arrow_left</mat-icon>
      </button>
      <span>歷史紀錄</span>
    </mat-toolbar>
    </div>

    <div class="form-box">
      <mat-list>
        <mat-list-item>訂單編號: 000</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>顧客電話: 0921111111</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>金額: $100</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>預約時間: 08:00</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>狀態: 已完成</mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>品項:</mat-list-item>
      </mat-list>
      <div class="goods-box mat-elevation-z4">
        <mat-grid-list cols="2" rowHeight="150px">
          <mat-grid-tile>
            <img class="goods-image" src="https://i.imgur.com/HVPrChy.jpg">
          </mat-grid-tile>
          <mat-grid-tile rowspan="1">
            <div class="goods-info">
              <h3 style="margin-top:0px;margin-bottom:15px">蔥油餅</h3>
              <mat-chip-list>
                <mat-chip>加蛋</mat-chip>
                <mat-chip>加大</mat-chip>
                <mat-chip>不要胡椒</mat-chip>
              </mat-chip-list>
              <h4 style="margin-top:15px;margin-bottom:15px">共1份, $33</h4>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
      <div class="goods-box mat-elevation-z4">
        <mat-grid-list cols="2" rowHeight="150px">
          <mat-grid-tile>
            <img class="goods-image" src="https://i.imgur.com/HVPrChy.jpg">
          </mat-grid-tile>
          <mat-grid-tile rowspan="1">
            <div class="goods-info">
              <h3 style="margin-top:0px;margin-bottom:15px">蔥油餅</h3>
              <mat-chip-list>
                <mat-chip>加蛋</mat-chip>
                <mat-chip>加大</mat-chip>
                <mat-chip>要胡椒</mat-chip>
              </mat-chip-list>
              <h4 style="margin-top:15px;margin-bottom:15px">共1份, $33</h4>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
      <div class="goods-box mat-elevation-z4">
        <mat-grid-list cols="2" rowHeight="150px">
          <mat-grid-tile>
            <img class="goods-image" src="https://i.imgur.com/HVPrChy.jpg">
          </mat-grid-tile>
          <mat-grid-tile rowspan="1">
            <div class="goods-info">
              <h3 style="margin-top:0px;margin-bottom:15px">蔥油餅</h3>
              <mat-chip-list>
                <mat-chip>不加蛋</mat-chip>
                <mat-chip>加大</mat-chip>
                <mat-chip>要胡椒</mat-chip>
              </mat-chip-list>
              <h4 style="margin-top:15px;margin-bottom:15px">共1份, $33</h4>

              <h4>共1份</h4>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>

</mat-sidenav-container>
